<html lang="ja">
<head>
<title>Scale and Chord</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="content-style-type" content="text/css">
<meta http-equiv="content-script-type" content="text/javascript">
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script type="text/javascript">google.load("jquery", "1.7");</script>
  <script type="text/javascript">
 $(document).ready(function(){

	function reset(){
	$("#decode").html('<h4>Choose Root and Scale(Chord)</h4>');
 	$(".c").attr("bgColor", "white");
 	$(".cs").attr("bgColor", "gray");
 	$(".d").attr("bgColor", "white");
 	$(".ds").attr("bgColor", "gray");
 	$(".e").attr("bgColor", "white");
 	$(".f").attr("bgColor", "white");
 	$(".fs").attr("bgColor", "gray");
 	$(".g").attr("bgColor", "white");
 	$(".gs").attr("bgColor", "gray");
 	$(".a").attr("bgColor", "white");
 	$(".as").attr("bgColor", "gray");
	}
	reset();
  });
  $(function(){

      notes = ["c","cs","d","ds","e","f","fs","g","gs","a","as","b"];

	interval = [
		["アイオニアンスケール",[0,2,2,1,2,2,2,1],"メジャー・キーの第1音から派生したスケール Maj7上などで使用可能"],
		["ドリアンスケール",[0,2,1,2,2,2,1,2],"メジャー・キーの第2音から派生したスケール mi7上などで使用可能"],
		["フリジアンスケール",[0,1,2,2,2,1,2,2],"メジャー・キーの第3音から派生したスケール mi7上などで使用可能"],
		["リディアンスケール",[0,2,2,2,1,2,2,1],"メジャー・キーの第4音から派生したスケール Maj7上などで使用可能"],
		["ミクソリディアンスケール",[0,2,2,1,2,2,1,2],"メジャー・キーの第5音から派生したスケール Dom7th上などで使用可能"],
		["エオリアンスケール",[0,2,1,2,2,1,2,2],"メジャー・キーの第6音から派生スケール mi7上などで使用可能"],
		["ロクリアンスケール",[0,1,2,2,1,2,2,2],"ジャー・キーの第7音から派生したスケール mi7♭5上などで使用可能"],
		["オルタードスケール",[0,1,2,1,2,2,2,2],""],
		["ディミニッシュスケール",[0,2,1,2,1,2,1,2],""],
		["コンビネーションオブディミニッシュスケール",[0,1,2,1,2,1,2,1],""],
		["ハーモニックマイナースケール",[0,2,1,2,2,1,3,1],""],
		["メロディックマイナースケール",[0,2,1,2,2,2,2,1],""],
		["パーフェクト５ｔｈビロースケール",[0,1,3,1,2,1,2,2],""],
		["ホールトーンスケール",[0,2,2,2,2,2],""],
		["メジャーペンタトニックスケール",[0,2,2,3,2],""],
		["マイナーペンタトニックスケール",[0,3,2,2,3],""],
		["ブルーノートスケール",[0,3,2,1,1,3],""],
		["琉球音階",[0,4,1,2,4],""],
		["メジャー",[0,4,3]],
		["マイナー",[0,3,4]],
		["サスフォー",[0,5,2]],
		["オーギュメント",[0,4,4]],
		["メジャーセブンス",[0,4,3,4]],
		["マイナーセブンス",[0,3,4,3]],
		["マイナーセブンス♭５",[0,3,3,4]],
		["ディミニッシュ",[0,3,3,3,3]]
	];

      function reset(){
        $("#memo").html('');
        $("#decode").html('<h4>Choose Root and Scale(Chord)</h4>');
        $(".c").attr("bgColor", "white");
        $(".cs").attr("bgColor", "gray");
        $(".d").attr("bgColor", "white");
        $(".ds").attr("bgColor", "gray");
        $(".e").attr("bgColor", "white");
        $(".f").attr("bgColor", "white");
        $(".fs").attr("bgColor", "gray");
        $(".g").attr("bgColor", "white");
        $(".gs").attr("bgColor", "gray");
        $(".a").attr("bgColor", "white");
        $(".as").attr("bgColor", "gray");
        $(".b").attr("bgColor", "white");
      }

      $("#button3").click(function(){
	reset();
      })

     $("#button4").click(function(){

	var si = $("#scale").val();
	var sv = $("#root").val();

	reset();

	$.each(interval[si][1],function(i,v){
		sv = parseInt(sv) + parseInt(v);
		if(sv > 11) sv-=12;

		var color = "pink";
		if(notes[sv].length == 2) color = "hotpink";
		if(sv==$("#root").val()) color = "indianred";
          	$("."+notes[sv]).attr("bgColor", color);
      	});

	$("#decode").html('<h4>' + $("#root option:selected").text() + ' ' + interval[si][0] + '</h4>');
	$("#memo").html(interval[si][2]);
     })
  })
</script>
<style type="text/css">
table#keyboard{
 width:90%;
 border-collapse:collapse;
}
#keyboard td{
 height:150px;
 border-color:gray;
 border-width:1px;
 border-style:solid;
 text-align:center;
}
</style>

</head>
<body>

<!-- keybord -->
<div id="decode"></div>
<table id="keyboard" class="sample">
<tr>
<td class="c" colspan="3" style="width:30px;border-bottom-width:0;"></td>
<td class="cs" colspan="2" style="width:20px;border-bottom-width:0;">C#</td>
<td class="d" colspan="2" style="width:20px;border-bottom-width:0;border-bottom-width:0;"></td>
<td class="ds" colspan="2" style="width:20px;border-bottom-width:0;">D#</td>
<td class="e" colspan="3" style="width:30px;border-bottom-width:0;"></td>
<td class="f" colspan="3" style="width:30px;border-bottom-width:0;"></td>
<td class="fs" colspan="2" style="width:20px;border-bottom-width:0;">F#</td>
<td class="g" colspan="2" style="width:20px;border-bottom-width:0;"></td>
<td class="gs" colspan="2" style="width:20px;border-bottom-width:0;">G#</td>
<td class="a" colspan="2" style="width:20px;border-bottom-width:0;"></td>
<td class="as" colspan="2" style="width:20px;border-bottom-width:0;">A#</td>
<td class="b" colspan="3" style="width:30px;border-bottom-width:0;"></td>
</tr>

<tr>
<td class="c" colspan="4" style="width:40px;height:80px;border-top-width:0;">C</td>
<td class="d" colspan="4" style="width:40px;height:80px;border-top-width:0;">D</td>
<td class="e" colspan="4" style="width:40px;height:80px;border-top-width:0;">E</td>
<td class="f" colspan="4" style="width:40px;height:80px;border-top-width:0;">F</td>
<td class="g" colspan="4" style="width:40px;height:80px;border-top-width:0;">G</td>
<td class="a" colspan="4" style="width:40px;height:80px;border-top-width:0;">A</td>
<td class="b" colspan="4" style="width:40px;height:80px;border-top-width:0;">B</td>
</tr>
</table>

<br />
Root <select id="root" name="root">
<option value="0">C</option> <option value="1">C#</option> <option value="2">D</option> <option value="3">D#</option>
<option value="4">E</option> <option value="5">F</option> <option value="6">F#</option> <option value="7">G</option>
<option value="8">G#</option> <option value="9">A</option> <option value="10">A#</option> <option value="11">B</option>
</select> 　

Scale or Chord type <select id="scale" name="scale">
<optgroup label="Scale">
<option value="0">アイオニアン(ナチュラルメジャー)スケール</option>
<option value="1">ドリアンスケール</option>
<option value="2">フリジアンスケール</option>
<option value="3">リディアンスケール</option>
<option value="4">ミクソリディアンスケール</option>
<option value="5">エオリアン(ナチュラルマイナー)スケール</option>
<option value="6">ロクリアンスケール</option>
<option value="7">オルタードスケール</option>
<option value="8">ディミニッシュスケール</option>
<option value="9">コンビネーションオブディミニッシュスケール</option>
<option value="10">ハーモニックマイナースケール</option>
<option value="11">メロディックマイナースケール</option>
<option value="12">ハーモニックマイナーパーフェクト5thビロースケール</option>
<option value="13">ホールトーンスケール</option>
<option value="14">メジャーペンタトニックスケール</option>
<option value="15">マイナーペンタトニックスケール</option>
<option value="16">ブルーノートスケール</option>
<option value="17">琉球音階</option>
</optgroup>
<optgroup label="Chord">
<option value="18">メジャー</option>
<option value="19">マイナー(m)</option>
<option value="20">サスフォー(sus4)</option>
<option value="21">オーギュメント(aug)</option>
<option value="22">メジャーセブンス(maj7)</option>
<option value="23">マイナーセブンス(m7)</option>
<option value="24">マイナーセブンスフラッティドフィフス(m7b5)</option>
<option value="25">ディミニッシュ(dim)</option>
</optgroup>
</select>

<input type="button" id="button4" value="get info"/>　
<input type="button" id="button3" value="reset"/>
<br />
<div id="memo"></div>
<br />
<!-- /keyboard -->
<hr /><br />

</body>
</html>
